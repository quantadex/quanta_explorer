{"version":3,"sources":["components/pages/Committee/Committee.scss","components/pages/Committee/Committee.js","components/pages/Committee/index.js"],"names":["module","exports","container","Committee","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","members","_this2","Apis","instance","config","getEnv","WEBSOCKET_PATH","enableOrders","init_promise","then","res","db_api","exec","e","active_committee_members","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","list","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","member","name","wrap","_context","prev","next","undefined","Symbol","iterator","done","value","id","committee_member_account","sent","push","objectSpread","t0","return","finish","setState","stop","_x","apply","arguments","_this3","react_default","createElement","className","classes","map","key","href","match","params","network","total_votes","toLocaleString","navigator","language","minimumFractionDigits","Component","__webpack_require__","d","__webpack_exports__","pages_Committee_Committee"],"mappings":"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","file":"static/js/21.c8e27a08.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Committee_container__35BDu\"};","import React, { Component } from 'react';\nimport classes from './Committee.scss';\nimport { Apis } from \"@quantadex/bitsharesjs-ws\";\nimport config from '@quanta/config';\n\nclass Committee extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmembers: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tfunction getName(id) {\n\t\t\treturn Apis.instance().db_api().exec(\"get_accounts\", [[id]]).then(e => {\n\t\t\t\treturn e[0].name\n\t\t\t})\n\t\t}\n\n\t\tApis.instance(config.getEnv().WEBSOCKET_PATH, true, 3000, { enableOrders: false }).init_promise.then((res) => {\n\t\t\t// console.log(\"connected to:\", res[0].network);\n\t\t\tApis.instance().db_api().exec(\"get_global_properties\", []).then(e => {\n\t\t\t\t// console.log(e)\n\t\t\t\treturn e.active_committee_members\n\t\t\t}).then(e => {\n\t\t\t\tApis.instance().db_api().exec(\"get_committee_members\", [e]).then(async members => {\n\t\t\t\t\t// console.log(members)\n\t\t\t\t\tconst list = []\n\t\t\t\t\tfor (let member of members) {\n\t\t\t\t\t\tlet name = await getName(member.committee_member_account)\n\t\t\t\t\t\tlist.push({ name: name, ...member })\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ members: list })\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={classes.container}>\n\t\t\t\t<h3>Active Committee Members</h3>\n\t\t\t\t<table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>ID</th>\n\t\t\t\t\t\t\t<th>Account</th>\n\t\t\t\t\t\t\t<th className=\"text-right\">Total votes</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{this.state.members.map(member => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr key={member.id}>\n\t\t\t\t\t\t\t\t\t<td><a href={\"/\" + this.props.match.params.network + \"/object/\" + member.id}>{member.id}</a></td>\n\t\t\t\t\t\t\t\t\t<td><a href={\"/\" + this.props.match.params.network + \"/account/\" + member.name}>{member.name}</a></td>\n\t\t\t\t\t\t\t\t\t<td className=\"text-right\">{member.total_votes.toLocaleString(navigator.language, { minimumFractionDigits: 0 })}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Committee;\n","export { default } from './Committee';\n"],"sourceRoot":""}