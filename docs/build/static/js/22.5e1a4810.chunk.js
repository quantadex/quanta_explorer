(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{426:function(e,t){},462:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},471:function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==i){var c=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var p=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;p.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",function(){return s}),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},492:function(e,t,n){"use strict";var a=n(118),o=n(119),r=n(121),s=n(120),i=n(122),c=n(2),l=n.n(c),p=n(493),u=n.n(p),h=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[],n=1,a=this.props.length;this.props.length>7&&(a=Math.max(Math.min(this.props.current+3,this.props.length),7),n=Math.min(Math.max(this.props.current-4,0),this.props.length-7));for(var o=n;o<a;o++)t.push(o);return l.a.createElement("div",{className:u.a.paginate+" d-flex justify-content-center"},l.a.createElement("button",{className:u.a.pagenum+(1===this.props.current?" d-none":""),onClick:function(){e.props.onClick(1)}},"First"),l.a.createElement("button",{className:u.a.pagenum+(1===this.props.current?" d-none":""),onClick:function(){e.props.onClick(e.props.current-1)}},"Prev"),this.props.length?l.a.createElement(l.a.Fragment,null,t.map(function(t){var n=t+1;return l.a.createElement("button",{key:n,className:u.a.pagenum+(n===e.props.current?" "+u.a.active:""),onClick:function(){return e.props.onClick(n)}},n)}),l.a.createElement("button",{className:u.a.pagenum+(a>=this.props.length?" d-none":""),onClick:function(){e.props.onClick(e.props.length)}},"Last")):null,l.a.createElement("button",{className:u.a.pagenum+(this.props.current===this.props.length||this.props.isLast?" d-none":""),onClick:function(){e.props.onClick(e.props.current+1)}},"Next"))}}]),t}(c.Component);t.a=h},493:function(e,t,n){e.exports={paginate:"pagination_paginate__2tG43",pagenum:"pagination_pagenum__3jIz0",active:"pagination_active__3XMsc"}},495:function(e,t,n){"use strict";var a=n(2),o=n.n(a),r=n(531),s=function(e){return o.a.createElement(r.a,Object.assign({},e,{classNamePrefix:"quanta-select"}))};n.d(t,"a",function(){return s})},649:function(e,t,n){e.exports={container:"Crosschain_container__1WQLK",sToken:"Crosschain_sToken__19cXA",coinToken:"Crosschain_coinToken__2oAMM",category:"Crosschain_category__F79v2"}},675:function(e,t,n){"use strict";n.r(t);var a=n(118),o=n(119),r=n(121),s=n(120),i=n(122),c=n(2),l=n.n(c),p=n(123),u=n(649),h=n.n(u),m=n(495),d=n(492),f=n(419),g=n(448),E=n.n(g),v=n(63),y=n.n(v),b=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={list:[],currentPage:Number(n.props.match.params.page),status:void 0,rowPerPage:15},n}return Object(i.a)(t,e),Object(o.a)(t,[{key:"getNode",value:function(e){var t=this;this.setState({selected:e}),fetch(y.a.getEnv().API_PATH+e+"/status").then(function(e){return e.json()}).then(function(e){t.setState({status:e})})}},{key:"getHistory",value:function(e,t){var n=this,a=this.state.rowPerPage;fetch(y.a.getEnv().API_PATH+e+"/history?offset=".concat((Number(t)-1)*a,"&limit=").concat(a)).then(function(e){return e.json()}).then(function(e){n.setState({list:e,last_page:e.length<a})})}},{key:"changeNode",value:function(e){this.props.history.push("/".concat(this.props.match.params.network,"/crosschain/").concat(e.value,"/1"))}},{key:"goToPage",value:function(e){this.props.history.push("/".concat(this.props.match.params.network,"/crosschain/").concat(this.props.match.params.id,"/").concat(e))}},{key:"componentWillReceiveProps",value:function(e){e.match.params.id!==this.state.selected&&this.getNode(e.match.params.id),e.match.params.page!==this.state.currentPage&&(this.getHistory(e.match.params.id,e.match.params.page),this.setState({currentPage:Number(e.match.params.page)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,n=t.id,a=t.page;f.Apis.instance(y.a.getEnv().WEBSOCKET_PATH,!0,3e3,{enableOrders:!1}).init_promise.then(function(t){f.Apis.instance().db_api().exec("list_assets",["A",100]).then(function(e){return window.assets=E.a.keyBy(e,"id"),window.assetsBySymbol=E.a.keyBy(e,"symbol"),e}).then(function(t){e.getNode(n),e.getHistory(n,a)})})}},{key:"timeAgo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(e),a=new Date(n.setFullYear(n.getFullYear()-t)),o=(((new Date).getTime()-a.getTime())/1e3).toFixed(0);return o<3600?o+" seconds":o<86400?Math.round(o/60/60)+" hours":Math.round(o/60/60/24)+" days"}},{key:"shorten",value:function(e){return e.length>10?e.slice(0,7)+"...":e}},{key:"handleCoin",value:function(e){var t=e.split("0X");return 2===t.length?l.a.createElement("div",{className:h.a.sToken},l.a.createElement("a",{href:y.a.getEnv().ETHERSCAN_URL+"/token/0x"+t[1],target:"_blank",rel:"noopener noreferrer"}," ",t[0]),l.a.createElement("div",{className:h.a.coinToken},"0X",t[1])):e}},{key:"coinURL",value:function(e,t){var n="testnet"==this.props.match.params.network,a=e.toLowerCase();switch(a){case"btc":return n?y.a.getEnv().BLOCKCYPHER_URL+a+"-testnet"+t:y.a.getEnv().BTC_URL;case"ltc":return n?"https://chain.so"+t+"LTCTEST/":y.a.getEnv().BLOCKCYPHER_URL+a+t;case"bch":return y.a.getEnv().BITCOIN_URL+a+t;default:return y.a.getEnv().ETHERSCAN_URL+t}}},{key:"render",value:function(){var e=this,t={node1:"Node 1",node2:"Node 2",node3:"Node 3"};return l.a.createElement("div",{className:h.a.container},l.a.createElement("h3",null,"Crosschain"),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",{className:"small"},l.a.createElement("b",null,"CurrentBlockETH:")," ",this.state.status&&this.state.status.ETH.CurrentBlock,l.a.createElement("br",null),l.a.createElement("b",null,"CurrentBlockQuanta:")," ",this.state.status&&this.state.status.QUANTA.CurrentBlock,l.a.createElement("br",null),l.a.createElement("b",null,"Public Key:")," ",this.state.status&&this.state.status.PUBLIC_KEY),l.a.createElement(m.a,{isSearchable:!1,options:Object.entries(t).map(function(e){return{value:e[0],label:e[1]}}),value:{value:this.props.match.params.id,label:t[this.props.match.params.id]},className:h.a.category,onChange:this.changeNode.bind(this)})),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"TYPE"),l.a.createElement("th",null,"SOURCE TX"),l.a.createElement("th",null,"FROM"),l.a.createElement("th",null,"TO TX"),l.a.createElement("th",null,"TO"),l.a.createElement("th",{className:"text-right"},"COIN"),l.a.createElement("th",{className:"text-right"},"AMOUNT"),l.a.createElement("th",{className:"text-right"},"BOUNCED"),l.a.createElement("th",{className:"text-right"},"SUBMIT STATE"),l.a.createElement("th",{className:"text-right"},"SUBMIT DATE"))),l.a.createElement("tbody",null,this.state.list.map(function(t,n){return l.a.createElement("tr",{key:n},l.a.createElement("td",{className:"text-uppercase"},t.Type),l.a.createElement("td",null,l.a.createElement("a",{href:("deposit"!==t.Type||t.IsBounced?y.a.getEnv().EXPLORER_URL+"/ledgers/":e.coinURL(t.Coin,"/tx/"))+t.Tx.split("_")[0],title:t.Tx,target:"_blank",rel:"noopener noreferrer"},e.shorten(t.Tx))),l.a.createElement("td",null,l.a.createElement("a",{href:("deposit"!==t.Type||t.IsBounced?y.a.getEnv().EXPLORER_URL+"/account/":e.coinURL(t.Coin,"/address/"))+t.From.split(",")[0],title:t.From.split(",")[0],target:"_blank",rel:"noopener noreferrer"},e.shorten(t.From.split(",")[0]))),l.a.createElement("td",null,l.a.createElement("a",{href:("deposit"===t.Type||t.IsBounced?y.a.getEnv().EXPLORER_URL+"/ledgers/":e.coinURL(t.Coin,"/tx/"))+t.SubmitTxHash.split("_")[0],title:t.SubmitTxHash,target:"_blank",rel:"noopener noreferrer"},e.shorten(t.SubmitTxHash))),l.a.createElement("td",null,l.a.createElement("a",{href:("deposit"===t.Type||t.IsBounced?y.a.getEnv().EXPLORER_URL+"/account/":e.coinURL(t.Coin,"/address/"))+t.To.split(",")[0],title:t.To.split(",")[0],target:"_blank",rel:"noopener noreferrer"},e.shorten(t.To.split(",")[0]))),l.a.createElement("td",{className:"text-right"},e.handleCoin(t.Coin)),l.a.createElement("td",{className:"text-right"},t.Amount/Math.pow(10,"withdrawal"===t.Type?5:window.assetsBySymbol[t.Coin]?window.assetsBySymbol[t.Coin].precision:0)),l.a.createElement("td",{className:"text-right text-capitalize"},String(t.IsBounced)),l.a.createElement("td",{className:"text-right text-capitalize"},t.SubmitState),l.a.createElement("td",{className:"text-right"},e.timeAgo(t.SubmitDate)," ago"))}))),l.a.createElement(d.a,{current:this.state.currentPage,isLast:this.state.last_page,onClick:this.goToPage.bind(this)}))}}]),t}(c.Component),_=Object(p.b)(function(e){return{environmentType:e.header.environmentType}})(b);n.d(t,"default",function(){return _})}}]);
//# sourceMappingURL=22.5e1a4810.chunk.js.map