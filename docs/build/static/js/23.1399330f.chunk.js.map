{"version":3,"sources":["components/pages/Object/Object.scss","components/pages/Object/Object.js","components/pages/Object/index.js"],"names":["module","exports","container","BsObject","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","object","id","_this2","Apis","instance","db_api","exec","then","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","e","data","wrap","_context","prev","next","JSON","stringify","fetch","config","getEnv","API_PATH","concat","json","operation_history","op_object","sent","abrupt","stop","_x","apply","arguments","setState","_this3","match","params","WEBSOCKET_PATH","enableOrders","init_promise","res","getObject","nextProps","react_default","createElement","className","classes","Component","connect","environmentType","header","__webpack_require__","d","__webpack_exports__","pages_Object_Object"],"mappings":"kGACAA,EAAAC,QAAA,CAAkBC,UAAA,qNCKZC,cACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACTC,OAAQ,IAJGR,yEAQTS,GAAI,IAAAC,EAAAP,KACVQ,OAAKC,WAAWC,SAASC,KAAK,cAAe,CAAC,CAACL,KAAMM,KAArD,eAAAC,EAAAf,OAAAgB,EAAA,EAAAhB,CAAAiB,EAAAC,EAAAC,KAA0D,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAGzC,UAFTJ,EAAOK,KAAKC,UAAUP,EAAE,GAAI,KAAM,IADgB,CAAAG,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAIrCG,MAAMC,IAAOC,SAASC,SAAhB,4EAAAC,OAAuGzB,IACrHM,KAAK,SAAAO,GAAC,OAAIA,EAAEa,SACZpB,KAAK,SAAAO,GACF,OAAOA,EAAE,IAAMM,KAAKC,UAAUP,EAAE,GAAGc,kBAAkBC,UAAW,KAAM,IAAM,SAPlC,OAIlDd,EAJkDE,EAAAa,KAAA,cAAAb,EAAAc,OAAA,SAW/ChB,GAX+C,wBAAAE,EAAAe,SAAAnB,EAAAlB,SAA1D,gBAAAsC,GAAA,OAAAzB,EAAA0B,MAAAvC,KAAAwC,YAAA,IAYG5B,KAAK,SAAAO,GACJZ,EAAKkC,SAAS,CAAEpC,OAAQc,EAAGb,GAAIA,kDAInB,IAAAoC,EAAA1C,KACRM,EAAON,KAAKJ,MAAM+C,MAAMC,OAAxBtC,GACRE,OAAKC,SAASmB,IAAOC,SAASgB,gBAAgB,EAAM,IAAM,CAAEC,cAAc,IAASC,aAAanC,KAAK,SAACoC,GAClGN,EAAKO,UAAU3C,uDAIG4C,GAClBA,EAAUP,MAAMC,OAAOtC,KAAON,KAAKI,MAAME,IACzCN,KAAKiD,UAAUC,EAAUP,MAAMC,OAAOtC,qCAK1C,OACI6C,EAAAnC,EAAAoC,cAAA,OAAKC,UAAWC,IAAQ5D,WACpByD,EAAAnC,EAAAoC,cAAA,sBAAcpD,KAAKJ,MAAM+C,MAAMC,OAAOtC,IACtC6C,EAAAnC,EAAAoC,cAAA,WAAMpD,KAAKI,MAAMC,gBA5CVkD,aAsDRC,cAJS,SAAApD,GAAK,MAAK,CAC9BqD,gBAAiBrD,EAAMsD,OAAOD,kBAGnBD,CAAyB7D,GC5DxCgE,EAAAC,EAAAC,EAAA,4BAAAC","file":"static/js/23.1399330f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Object_container__1a8fo\"};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport classes from './Object.scss';\nimport { Apis } from \"@quantadex/bitsharesjs-ws\";\nimport config from '@quanta/config';\n\nclass BsObject extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            object: \"\",\n        };\n    }\n\n    getObject(id) {\n        Apis.instance().db_api().exec(\"get_objects\", [[id]]).then(async e => {\n            let data = JSON.stringify(e[0], null, 4)\n\n            if (data === \"null\") {\n                data = await fetch(config.getEnv().API_PATH + `account?filter_field=operation_history__op_object__order_id&filter_value=${id}`)\n                    .then(e => e.json())\n                    .then(e => {\n                        return e[0] && JSON.stringify(e[0].operation_history.op_object, null, 4) || \"null\"\n                    })\n            }\n\n            return data\n        }).then(e => {\n            this.setState({ object: e, id: id })\n        })\n    }\n\n    componentDidMount() {\n        const { id } = this.props.match.params\n        Apis.instance(config.getEnv().WEBSOCKET_PATH, true, 3000, { enableOrders: false }).init_promise.then((res) => {\n            this.getObject(id)\n        })\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.match.params.id !== this.state.id) {\n            this.getObject(nextProps.match.params.id)\n        }\n    }\n\n    render() {\n        return (\n            <div className={classes.container}>\n                <h4>Object - {this.props.match.params.id}</h4>\n                <pre>{this.state.object}</pre>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    environmentType: state.header.environmentType,\n});\n\nexport default connect(mapStateToProps)(BsObject);","export { default } from './Object';\n"],"sourceRoot":""}