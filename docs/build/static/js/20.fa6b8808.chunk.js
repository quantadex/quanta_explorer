(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{426:function(e,t){},645:function(e,t,a){e.exports={container:"Witness_container__2zmO_"}},679:function(e,t,a){"use strict";a.r(t);var n=a(421),r=a.n(n),c=a(1),s=a(422),i=a(118),l=a(119),o=a(121),m=a(120),u=a(122),p=a(2),h=a.n(p),E=a(645),d=a.n(E),f=a(419),b=a(63),g=a.n(b),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={witnesses:[],all_witnesses:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.Apis.instance(g.a.getEnv().WEBSOCKET_PATH,!0,3e3,{enableOrders:!1}).init_promise.then(function(t){f.Apis.instance().db_api().exec("get_global_properties",[]).then(function(e){return e.active_witnesses}).then(function(t){f.Apis.instance().db_api().exec("get_witnesses",[t]).then(function(){var t=Object(s.a)(r.a.mark(function t(a){var n,s,i,l,o,m,u,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],s=!0,i=!1,l=void 0,t.prev=4,o=a[Symbol.iterator]();case 6:if(s=(m=o.next()).done){t.next=15;break}return u=m.value,t.next=10,r=u.witness_account,f.Apis.instance().db_api().exec("get_accounts",[[r]]).then(function(e){return e[0].name});case 10:p=t.sent,n.push(Object(c.a)({name:p},u));case 12:s=!0,t.next=6;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),i=!0,l=t.t0;case 21:t.prev=21,t.prev=22,s||null==o.return||o.return();case 24:if(t.prev=24,!i){t.next=27;break}throw l;case 27:return t.finish(24);case 28:return t.finish(21);case 29:e.setState({witnesses:n});case 30:case"end":return t.stop()}var r},t,this,[[4,17,21,29],[22,,24,28]])}));return function(e){return t.apply(this,arguments)}}())}),f.Apis.instance().db_api().exec("lookup_witness_accounts",[0,100]).then(function(t){e.setState({all_witnesses:t})})})}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:d.a.container},h.a.createElement("h3",null,"Active Witnesses"),h.a.createElement("table",{className:"w-100 mb-5"},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",null,"ID"),h.a.createElement("th",null,"Account"),h.a.createElement("th",{className:"text-right"},"Total votes"),h.a.createElement("th",{className:"text-right"},"Missed"),h.a.createElement("th",{className:"text-right"},"Last Confirmed Block"))),h.a.createElement("tbody",null,this.state.witnesses.map(function(t){return h.a.createElement("tr",{key:t.id},h.a.createElement("td",null,h.a.createElement("a",{href:"/"+e.props.match.params.network+"/object/"+t.id},t.id)),h.a.createElement("td",null,h.a.createElement("a",{href:"/"+e.props.match.params.network+"/account/"+t.name},t.name)),h.a.createElement("td",{className:"text-right"},Number(t.total_votes).toLocaleString(navigator.language,{minimumFractionDigits:0})),h.a.createElement("td",{className:"text-right"},t.total_missed.toLocaleString(navigator.language,{minimumFractionDigits:0})),h.a.createElement("td",{className:"text-right"},t.last_confirmed_block_num.toLocaleString(navigator.language,{minimumFractionDigits:0})))}))),h.a.createElement("h3",null,"All Witnesses"),h.a.createElement("table",{className:"mb-5"},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",null,"ID"),h.a.createElement("th",null,"Account"))),h.a.createElement("tbody",null,this.state.all_witnesses.map(function(t){return h.a.createElement("tr",{key:t[0]},h.a.createElement("td",{className:"pr-4"},h.a.createElement("a",{href:"/"+e.props.match.params.network+"/object/"+t[1]},t[1])),h.a.createElement("td",{className:"pr-4"},h.a.createElement("a",{href:"/"+e.props.match.params.network+"/account/"+t[0]},t[0])))}))))}}]),t}(p.Component);a.d(t,"default",function(){return v})}}]);
//# sourceMappingURL=20.fa6b8808.chunk.js.map