(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{426:function(e,t){},429:function(e,t,a){"use strict";a.d(t,"e",function(){return u}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return m}),a.d(t,"c",function(){return p});var n=a(421),r=a.n(n),c=a(422),s=a(436),l=a.n(s),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",a=arguments.length>2?arguments[2]:void 0,n=a?l.a.duration(l()(a).diff(l()(e))):l.a.duration(l()().diff(l()(e)));switch(t){case"ms":return n.asMilliseconds();default:return n.asMinutes()}};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date(e+"z"),n=new Date(a.setFullYear(a.getFullYear()-t)),r=(((new Date).getTime()-n.getTime())/1e3).toFixed(0);return r<3600?r+" seconds":r<86400?Math.round(r/60/60)+" hours":Math.round(r/60/60/24)+" days"}var i=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?l.a.utc(e).format("DD MMM YYYY hh:mm:ss z"):l()(e).format("DD MMM YYYY hh:mm:ss z")},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.toLocaleString(navigator.language,{minimumFractionDigits:t})},E={};function d(e,t){return void 0!==E[e]?E[e]:t.instance().db_api().exec("get_accounts",[[e]]).then(function(t){return E[e]=t[0].name,t[0].name})}function p(e,t){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark(function e(t,a){var n,c,s,l,u,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t[0],c=t[1],o=!1,e.t0=n,e.next=0===e.t0?6:1===e.t0?9:2===e.t0?11:3===e.t0?13:4===e.t0?15:5===e.t0?17:6===e.t0?20:14===e.t0?22:15===e.t0?25:19===e.t0?27:22===e.t0?29:23===e.t0?31:33===e.t0?33:37===e.t0?35:49===e.t0?37:50===e.t0?39:41;break;case 6:return u=c.from,o=c.to,e.abrupt("break",42);case 9:return u=c.seller,e.abrupt("break",42);case 11:return u=c.fee_paying_account,e.abrupt("break",42);case 13:return u=c.funding_account,e.abrupt("break",42);case 15:return u=c.account_id,e.abrupt("break",42);case 17:return u=c.registrar,o=c.referrer,e.abrupt("break",42);case 20:return u=c.account,e.abrupt("break",42);case 22:return u=c.issuer,o=c.issue_to_account,e.abrupt("break",42);case 25:return u=c.payer,e.abrupt("break",42);case 27:return u=c.publisher,e.abrupt("break",42);case 29:case 31:return u=c.fee_paying_account,e.abrupt("break",42);case 33:return u=c.owner_,e.abrupt("break",42);case 35:return u=c.deposit_to_account,e.abrupt("break",42);case 37:case 39:return u=c.account_id,e.abrupt("break",42);case 41:throw t;case 42:if(!u){e.next=46;break}return e.next=45,d(u,a);case 45:s=e.sent;case 46:if(!o){e.next=50;break}return e.next=49,d(o,a);case 49:l=e.sent;case 50:return e.abrupt("return",{name1:s,name2:l,type:n,data:c});case 51:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},439:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(4);function s(e){return window.assets[e].symbol}function l(e){return window.assets[e].precision}a.n(c).a.shape;t.a=function(e){var t=e.operation,a=e.env;return r.a.createElement(r.a.Fragment,null,function(e,t){switch(e.type){case 0:var a=e.data.amount_||e.data.amount;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," sent\xa0",a.amount/Math.pow(10,l(a.asset_id))," ",s(a.asset_id)," to\xa0",r.a.createElement("a",{href:t+"/account/"+e.name2},e.name2));case 1:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," wants\xa0",e.data.min_to_receive.amount/Math.pow(10,l(e.data.min_to_receive.asset_id)),"\xa0",s(e.data.min_to_receive.asset_id)," for\xa0",e.data.amount_to_sell.amount/Math.pow(10,l(e.data.amount_to_sell.asset_id)),"\xa0",s(e.data.amount_to_sell.asset_id));case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," cancel order");case 3:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," update debt/collateral for\xa0",s(e.data.delta_collateral.asset_id),"/",s(e.data.delta_debt.asset_id));case 4:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," paid\xa0",e.data.pays.amount/Math.pow(10,l(e.data.pays.asset_id))," ",s(e.data.pays.asset_id)," for\xa0",e.data.receives.amount/Math.pow(10,l(e.data.receives.asset_id))," ",s(e.data.receives.asset_id));case 5:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," register ",r.a.createElement("a",{href:t+"/account/"+e.data.name},e.data.name),e.name1!==e.name2?r.a.createElement(function(){return r.a.createElement(r.a.Fragment,null,"\xa0thanks to ",r.a.createElement("a",{href:t+"/account/"+e.name2},e.name2))},null):"");case 6:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," updated account data");case 7:return r.a.createElement(r.a.Fragment,null,"ACCOUNT WHIELIST");case 8:return r.a.createElement(r.a.Fragment,null,"ACCOUNT UPGRADE");case 9:return r.a.createElement(r.a.Fragment,null,"ACCOUNT TRANSFER");case 10:return r.a.createElement(r.a.Fragment,null,"ASSET CREATE");case 11:return r.a.createElement(r.a.Fragment,null,"ASSET UPDATE");case 12:return r.a.createElement(r.a.Fragment,null,"ASSET UPDATE BITASSET");case 13:return r.a.createElement(r.a.Fragment,null,"ASSET UPDATE FEED PRODUCERS");case 14:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," issued\xa0",e.data.asset_to_issue.amount/Math.pow(10,l(e.data.asset_to_issue.asset_id))," ",s(e.data.asset_to_issue.asset_id)," to\xa0",r.a.createElement("a",{href:t+"/account/"+e.name2},e.name2));case 15:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," burned(reserved)\xa0",e.data.amount_to_reserve.amount/Math.pow(10,l(e.data.amount_to_reserve.asset_id))," ",s(e.data.amount_to_reserve.asset_id));case 16:return r.a.createElement(r.a.Fragment,null,"ASSET FUND FEE POOL");case 17:return r.a.createElement(r.a.Fragment,null,"ASSET SETTLE");case 18:return r.a.createElement(r.a.Fragment,null,"ASSET GLOBAL SETTLE");case 19:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," published feed for ",s(e.data.asset_id));case 20:return r.a.createElement(r.a.Fragment,null,"WITNESS CREATE");case 21:return r.a.createElement(r.a.Fragment,null,"WITNESS UPDATE");case 22:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," created a proposal");case 23:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," updated proposal ",e.data.proposal);case 24:return r.a.createElement(r.a.Fragment,null,"PROPOSAL DELETE");case 25:return r.a.createElement(r.a.Fragment,null,"WITHDRAW PERMISSION CREATE");case 26:return r.a.createElement(r.a.Fragment,null,"WITHDRAW PERMISSION");case 27:return r.a.createElement(r.a.Fragment,null,"WITHDRAW PERMISSION CLAIM");case 28:return r.a.createElement(r.a.Fragment,null,"WITHDRAW PERMISSION DELETE");case 29:return r.a.createElement(r.a.Fragment,null,"COMMITTEE MEMBER CREATE");case 30:return r.a.createElement(r.a.Fragment,null,"COMMITTEE MEMBER UPDATE");case 31:return r.a.createElement(r.a.Fragment,null,"COMMITTEE MEMBER UPDATE GLOBAL PARAMETERS");case 32:return r.a.createElement(r.a.Fragment,null,"VESTING BALANCE CREATE");case 33:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," withdrew vesting balance of\xa0",e.data.amount_.amount/Math.pow(10,l(e.data.amount_.asset_id))," ",s(e.data.amount_.asset_id));case 34:return r.a.createElement(r.a.Fragment,null,"WORKER CREATE");case 35:return r.a.createElement(r.a.Fragment,null,"CUSTOM");case 36:return r.a.createElement(r.a.Fragment,null,"ASSERT");case 37:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," claimed a balance of\xa0",e.data.total_claimed.amount/Math.pow(10,l(e.data.total_claimed.asset_id))," ",s(e.data.total_claimed.asset_id));case 38:return r.a.createElement(r.a.Fragment,null,"OVERRIDE TRANSFER");case 39:return r.a.createElement(r.a.Fragment,null,"TRANSFER TO BLIND");case 40:return r.a.createElement(r.a.Fragment,null,"BLIND TRANSFER");case 41:return r.a.createElement(r.a.Fragment,null,"TRANSFER FROM BLIND");case 42:return r.a.createElement(r.a.Fragment,null,"ASSET SETTLE CANCEL");case 43:return r.a.createElement(r.a.Fragment,null,"ASSET CLAIM FEES");case 44:return r.a.createElement(r.a.Fragment,null,"FBA DISTRIBUTE");case 49:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," bet\xa0",e.data.risk.amount/Math.pow(10,l(e.data.risk.asset_id))," ",s(e.data.risk.asset_id),"\xa0on dice roll ","<"==e.data.bet[0]?"under":"over"," ",e.data.bet.slice(1));case 50:return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t+"/account/"+e.name1},e.name1)," rolled ",e.data.outcome,"\xa0",e.data.win?"and won "+e.data.payout.amount/Math.pow(10,l(e.data.payout.asset_id))+" "+s(e.data.payout.asset_id):"");default:return r.a.createElement(r.a.Fragment,null)}}(t,a))}},464:function(e,t){},465:function(e,t){},470:function(e,t){},532:function(e,t,a){e.exports={status:"DExplorer_status__29cM6",content:"DExplorer_content__2XTs7",opList:"DExplorer_opList__2Ezx0",blocksList:"DExplorer_blocksList__bUc-I"}},669:function(e,t,a){"use strict";a.r(t);var n=a(123),r=a(84),c=a(23),s=a(68),l=a(88),u=a(63),o=a.n(u),i=a(1),m=a(421),E=a.n(m),d=a(422),p=a(118),h=a(119),f=a(121),b=a(120),_=a(122),g=a(2),v=a.n(g),T=a(4),k=a.n(T),S=a(532),F=a.n(S),A=a(429),w=a(448),L=a.n(w),M=a(419),y=a(451),O=a(439),N=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={operationsList:[],blocksList:[],nodes:0},a}return Object(_.a)(t,e),Object(h.a)(t,[{key:"updateChainState",value:function(){var e=y.ChainStore.getObject("2.1.0");null!=e&&this.state.nodes!==e.size&&this.setState({nodes:e.size})}},{key:"componentDidMount",value:function(){this.setState({operationsList:[],blocksList:[],nodes:0}),this.init()}},{key:"init",value:function(){var e=this,t={},a=null,n=[];function r(){M.Apis.instance().db_api().exec("get_global_properties",[]).then(function(t){t.active_witnesses.length!==e.state.nodes&&e.setState({nodes:t.active_witnesses.length})})}function c(e){return void 0!==t[e]?t[e]:M.Apis.instance().db_api().exec("get_accounts",[[e]]).then(function(a){return t[e]=a[0].name,a[0].name})}function s(e){return void 0!==t[e]?t[e]:M.Apis.instance().db_api().exec("get_witnesses",[[e]]).then(function(){var a=Object(d.a)(E.a.mark(function a(n){var r;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c(n[0].witness_account);case 2:return r=a.sent,t[e]=r,a.abrupt("return",r);case 5:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}())}function l(){var r=[];M.Apis.instance().db_api().exec("get_dynamic_global_properties",[]).then(function(e){return e}).then(function(c){c.head_block_number!=a&&(a=c.head_block_number,M.Apis.instance().db_api().exec("get_block",[c.head_block_number]).then(function(){var a=Object(d.a)(E.a.mark(function a(r){var l,u,o;return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(l=void 0,void 0!==t[r.witness]){a.next=7;break}return a.next=4,s(r.witness);case 4:l=a.sent,a.next=8;break;case 7:l=t[r.witness];case 8:for(u={block:c.head_block_number,witness:l,transactions:r.transactions.length,timestamp:r.timestamp},(o=e.state.blocksList).length>0&&(n.length>=100&&n.shift(),n.push((i=r.timestamp,m=o[0].timestamp,new Date(i)-new Date(m))),e.setState({averageBlockLatency:Math.round(n.reduce(function(e,t){return e+t},0)/n.length)}));o.length>=10;)o.pop();return o.unshift(u),e.setState({blocksList:o}),a.abrupt("return",[r,c.head_block_number]);case 15:case"end":return a.stop()}var i,m},a,this)}));return function(e){return a.apply(this,arguments)}}()).then(function(){var t=Object(d.a)(E.a.mark(function t(a){var n,c,s,l,u,o,m,d,p,h,f;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,c=!0,s=!1,l=void 0,t.prev=4,u=a[0].transactions[Symbol.iterator]();case 6:if(c=(o=u.next()).done){t.next=25;break}if(m=o.value,!(n>10)){t.next=10;break}return t.abrupt("break",25);case 10:return t.prev=10,t.next=13,Object(A.c)(m.operations[0],M.Apis);case 13:d=t.sent,p={block:a[1],timestamp:a[0].timestamp,id:a[1]+"."+n},r.push(Object(i.a)({},d,p)),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(10),console.log("item",t.t0,m);case 21:n++;case 22:c=!0,t.next=6;break;case 25:t.next=31;break;case 27:t.prev=27,t.t1=t.catch(4),s=!0,l=t.t1;case 31:t.prev=31,t.prev=32,c||null==u.return||u.return();case 34:if(t.prev=34,!s){t.next=37;break}throw l;case 37:return t.finish(34);case 38:return t.finish(31);case 39:if(r.length>0){for(h=e.state.operationsList,f=r.concat(h);f.length>10;)f.pop();e.setState({operationsList:f})}case 41:case"end":return t.stop()}},t,this,[[4,27,31,39],[10,18],[32,,34,38]])}));return function(e){return t.apply(this,arguments)}}()))})}M.Apis.instance(o.a.getEnv().WEBSOCKET_PATH,!0,3e3,{enableOrders:!1}).init_promise.then(function(e){}).then(function(e){M.Apis.instance().db_api().exec("list_assets",["A",100]).then(function(e){return window.assets=L.a.keyBy(e,"id"),window.assetsBySymbol=L.a.keyBy(e,"symbol"),e})}).then(function(e){l(),r(),setInterval(function(){l()},500),setInterval(function(){r()},5e3)})}},{key:"timeAgo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=new Date(e+"z"),n=new Date(a.setFullYear(a.getFullYear()-t));return(((new Date).getTime()-n.getTime())/1e3).toFixed(0)}},{key:"render",value:function(){var e=this,t=this.props.match.params.network||"mainnet";return v.a.createElement("div",null,v.a.createElement("div",{className:F.a.status},v.a.createElement("div",null,"Highest Block ",v.a.createElement("br",null)," ",v.a.createElement("span",null,this.state.blocksList[0]?this.state.blocksList[0].block:"")),v.a.createElement("div",null,"Average Block Latency ",v.a.createElement("br",null)," ",v.a.createElement("span",null,this.state.averageBlockLatency," ms")),v.a.createElement("div",null,"Number of Nodes ",v.a.createElement("br",null)," ",v.a.createElement("span",null,this.state.nodes))),v.a.createElement("div",{className:F.a.content},v.a.createElement("h3",null,"Transaction History"),v.a.createElement("div",{className:F.a.opList},v.a.createElement("table",null,v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"BLOCK #"),v.a.createElement("th",null),v.a.createElement("th",{className:"text-right"},"CREATED"))),v.a.createElement("tbody",null,this.state.operationsList.map(function(a){return v.a.createElement("tr",{key:a.id},v.a.createElement("td",null,v.a.createElement("a",{href:"/"+t+"/ledgers/"+a.block},a.block)),v.a.createElement("td",null,v.a.createElement(O.a,{operation:a,env:t})),v.a.createElement("td",{className:"text-right"},e.timeAgo(a.timestamp)," seconds ago"))})))),v.a.createElement("h3",null,"Block History"),v.a.createElement("div",{className:F.a.blocksList},v.a.createElement("table",null,v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"BLOCK #"),v.a.createElement("th",{className:"text-center"},"TRANSACTIONS"),v.a.createElement("th",{className:"text-center"},"WITNESS"),v.a.createElement("th",{className:"text-right"},"CREATED"))),v.a.createElement("tbody",null,this.state.blocksList.map(function(a){return v.a.createElement("tr",{key:a.block},v.a.createElement("td",null,v.a.createElement("a",{href:"/"+t+"/ledgers/"+a.block},a.block)),v.a.createElement("td",{className:"text-center"},a.transactions),v.a.createElement("td",{className:"text-center"},a.witness),v.a.createElement("td",{className:"text-right"},e.timeAgo(a.timestamp)," seconds ago"))}))))))}}]),t}(g.Component),R=(k.a.func,k.a.arrayOf,k.a.object,k.a.shape,k.a.number,N);t.default=Object(n.b)(function(e){return{operations:e.operations.operations,ledgers:e.ledgers.ledgers,metrics:e.metrics.metrics,averageBlockLatency:e.global.averageBlockLatency,nodeCount:e.global.nodeCount,environmentType:e.header.environmentType}},function(e){return{fetchOperations:function(){e(Object(r.b)({limit:u.SETTINGS.RECENT_ITEM_LENGTH,order:"desc"}))},fetchLedgers:function(){e(Object(c.h)({limit:u.SETTINGS.RECENT_ITEM_LENGTH,order:"desc"}))},fetchMetrics:function(){e(Object(s.b)())},setAverageBlockLatency:function(t){e(Object(l.b)(t))},fetchNodeCount:function(){e(Object(l.a)())}}})(R)}}]);
//# sourceMappingURL=8.76feac6a.chunk.js.map